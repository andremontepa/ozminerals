#line 1 "c:/totvs/microsiga-teste/protheus/include\PROTHEUS.CH"
#line 1 "c:/totvs/microsiga-teste/protheus/include\Dialog.ch"
#line 28 "PROTHEUS.CH"
#line 1 "c:/totvs/microsiga-teste/protheus/include\Font.ch"
#line 29 "PROTHEUS.CH"
#line 1 "c:/totvs/microsiga-teste/protheus/include\PTMenu.ch"
#line 31 "PROTHEUS.CH"
#line 1 "c:/totvs/microsiga-teste/protheus/include\Print.ch"
#line 33 "PROTHEUS.CH"
#line 1 "c:/totvs/microsiga-teste/protheus/include\Colors.ch"
#line 35 "PROTHEUS.CH"
#line 1 "c:/totvs/microsiga-teste/protheus/include\Folder.ch"
#line 37 "PROTHEUS.CH"
#line 1 "c:/totvs/microsiga-teste/protheus/include\msobject.ch"
#line 38 "PROTHEUS.CH"
#line 1 "c:/totvs/microsiga-teste/protheus/include\VKey.ch"
#line 42 "PROTHEUS.CH"
#line 1 "c:/totvs/microsiga-teste/protheus/include\WinApi.ch"
#line 44 "PROTHEUS.CH"
#line 1 "c:/totvs/microsiga-teste/protheus/include\FWCommand.ch"
#line 47 "PROTHEUS.CH"
#line 1 "c:/totvs/microsiga-teste/protheus/include\FWCSS.CH"
#line 50 "PROTHEUS.CH"
#line 2 "c:\totvs\projetos_prod\compras\ponto de entrada workflow\\c:/totvs/projetos_prod/compras/ponto de entrada workflow/mt120lok.prw"
#line 1 "c:/totvs/microsiga-teste/protheus/include\RWMAKE.CH"
#line 1 "c:/totvs/microsiga-teste/protheus/include\stdwin.ch"
#line 14 "RWMAKE.CH"
#line 3 "c:\totvs\projetos_prod\compras\ponto de entrada workflow\\c:/totvs/projetos_prod/compras/ponto de entrada workflow/mt120lok.prw"
#line 1 "c:/totvs/microsiga-teste/protheus/include\FWMVCDEF.CH"
#line 1 "c:/totvs/microsiga-teste/protheus/include\PARMTYPE.CH"
#line 1 "c:/totvs/microsiga-teste/protheus/include\PARMTYPECH.CH"
#line 3 "PARMTYPE.CH"
#line 2 "FWMVCDEF.CH"
#line 1 "c:/totvs/microsiga-teste/protheus/include\FWMBROWSE.CH"
#line 1 "c:/totvs/microsiga-teste/protheus/include\FWBROWSE.CH"
#line 3 "FWMBROWSE.CH"
#line 4 "FWMVCDEF.CH"
#line 5 "c:\totvs\projetos_prod\compras\ponto de entrada workflow\\c:/totvs/projetos_prod/compras/ponto de entrada workflow/mt120lok.prw"
#line 1 "c:/totvs/microsiga-teste/protheus/include\TOTVS.CH"
#line 1 "c:/totvs/microsiga-teste/protheus/include\protheus.ch"
#line 7 "c:\totvs\projetos_prod\compras\ponto de entrada workflow\\c:/totvs/projetos_prod/compras/ponto de entrada workflow/mt120lok.prw"
Function U_MT120LOK()

	Local nPosNum     := aScan(aHeader,{|x| AllTrim(x[3]) == "C7_NUMSC"})
	Local nPosItem    := aScan(aHeader,{|x| AllTrim(x[3]) == "C7_ITEMSC"})
    Local nPostpapl  := aScan(aHeader,{|x| AllTrim(x[3]) == "C7_XTPAPL"})
	Local lValido := .T. 
    Local aPropri:= " "



	If !Empty(aCols[n][nPosNum])

		aPropri:= Posicione("SC1",1,xFilial("SC1")+aCols[n][nPosNum]+aCols[n][nPosItem],"C1_XPROPRI")
		If aCols[n][nPostpapl] <> aPropri
			Iif(FindFunction("APMsgInfo"), APMsgInfo("Apropriação do pedido nao pode ser diferente da SC", "Atençao"), MsgInfo("Apropriação do pedido nao pode ser diferente da SC", "Atençao"))
			lValido:= .f. 
		EndIf

	EndIf
Return(lValido)
